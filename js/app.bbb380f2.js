(function(t){function e(e){for(var s,a,i=e[0],c=e[1],d=e[2],l=0,f=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},r={app:0},o=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"034f":function(t,e,n){"use strict";var s=n("64a9"),r=n.n(s);r.a},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"64a9":function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",{staticClass:"is-size-2"},[t._v("Thor-tracer Demo")]),n("div",{staticClass:"columns is-multiline is-centered"},[n("div",{staticClass:"column is-8"},[n("ul",{staticClass:"has-text-left"},[t.start?n("li",[t._v("\n                    On Start:\n                    "),n("ul",[n("li",[t._v("ID: "),n("span",{staticClass:"is-family-monospace has-text-weight-bold"},[t._v(t._s(t.start.id))])]),n("li",[t._v("Number: "+t._s(t.start.number))])])]):t._e(),t._m(0),t.stop?n("li",[t._v("\n                    On Stop:\n                    "),n("ul",[n("li",[t._v("ID: "),n("span",{staticClass:"is-family-monospace has-text-weight-bold"},[t._v(t._s(t.stop.id))])]),n("li",[t._v("Number: "+t._s(t.stop.number))])])]):t._e()])]),n("div",{staticClass:"column is-8"},[n("Params",{attrs:{stoped:t.stop,tokens:t.tokens},on:{check:t.getCondations,stop:t.stopTracer}})],1),n("div",{staticClass:"column is-8"},[n("table",{staticClass:"table is-fullwidth is-narrow"},[t._m(1),t.eventResult.length?n("tbody",t._l(t.eventResult,function(e,s){return n("tr",{key:s,style:t.getRowStyle(e.confirm)},[n("td",[n("img",{attrs:{src:e.icon,width:"20px",alt:""}})]),n("td",{staticClass:"is-family-monospace has-text-weight-bold"},[n("span",{class:{"has-text-primary":t.inAccount(e.decode._from)}},[t._v(t._s(t._f("shortAddress")(t._f("toChecksumAddress")(e.decode._from))))])]),n("td",{staticClass:"is-family-monospace has-text-weight-bold",class:{"has-text-primary":t.inAccount(e.decode._to)}},[n("span",[t._v(t._s(t._f("shortAddress")(t._f("toChecksumAddress")(e.decode._to))))])]),n("td",{staticClass:"is-family-monospace has-text-weight-bold"},[t._v(t._s(t._f("balance")(e.decode._value)))]),n("td",{staticClass:"is-family-monospace has-text-weight-bold"},[n("a",{attrs:{target:"_blank",href:"https://insight.vecha.in/#/txs/"+e.txId}},[t._v(t._s(t._f("shortAddress")(e.txId)))])]),n("td",{staticClass:"is-family-monospace has-text-weight-bold"},[t._v(t._s(t._f("shortAddress")(e.blockId)))]),n("td",{staticClass:"is-family-monospace has-text-weight-bold"},[t._v(t._s(e.confirm))]),n("td",{staticClass:"is-family-monospace has-text-weight-bold",class:{"has-text-primary":e.isTrunk}},[t._v(t._s(e.isTrunk))])])}),0):t._e()])])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("br")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Token")]),n("th",[t._v("From")]),n("th",[t._v("To")]),n("th",[t._v("Value")]),n("th",[t._v("TxId")]),n("th",[t._v("BlockID")]),n("th",[t._v("Confirmed")]),n("th",[t._v("Is Trunk")])])])}],a=(n("8e6e"),n("7f7f"),n("bd86")),i=(n("96cf"),n("3b8d")),c=(n("456d"),n("ac6a"),n("75fc")),d=n("d225"),u=n("b0b4"),l=n("308d"),f=n("6bb5"),p=n("4e2b"),h=n("9ab4"),b=n("f877"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticStyle:{width:"500px","margin-left":"20px"}},[n("div",{staticClass:"has-text-left has-text-weight-bold"},[t._v("Tokens:")]),n("div",{staticClass:"columns is-multiline"},t._l(t.tokens,function(e){return n("div",{key:e.address,staticClass:"column has-text-left is-one-third"},[n("label",{staticClass:"checkbox",attrs:{disabled:t.disabled}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tokenAddress,expression:"tokenAddress"}],attrs:{disabled:t.disabled,type:"checkbox"},domProps:{value:e.address,checked:Array.isArray(t.tokenAddress)?t._i(t.tokenAddress,e.address)>-1:t.tokenAddress},on:{change:function(n){var s=t.tokenAddress,r=n.target,o=!!r.checked;if(Array.isArray(s)){var a=e.address,i=t._i(s,a);r.checked?i<0&&(t.tokenAddress=s.concat([a])):i>-1&&(t.tokenAddress=s.slice(0,i).concat(s.slice(i+1)))}else t.tokenAddress=o}}}),t._v("\n                "+t._s(e.name)+"\n            ")])])}),0),n("div",{staticClass:"has-text-left has-text-weight-bold"},[t._v("Address (split by ','):")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"textarea",staticStyle:{resize:"none",width:"100%"},attrs:{disabled:t.disabled,rows:"5"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),n("br"),t.disabled?t._e():n("button",{staticClass:"button is-primary",attrs:{disabled:t.disabled,type:"button"},on:{click:t.checkCondation}},[t._v("OK")]),t.disabled?n("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:t.stop}},[t._v("Stop")]):t._e()])},m=[],y=(n("28a5"),n("60a3")),k=function(t){function e(){var t;return Object(d["a"])(this,e),t=Object(l["a"])(this,Object(f["a"])(e).apply(this,arguments)),t.address="",t.tokenAddress=[],t.disabled=!1,t}return Object(p["a"])(e,t),Object(u["a"])(e,[{key:"onStopChange",value:function(){this.disabled=!this.stoped}},{key:"stop",value:function(){this.$emit("stop")}},{key:"checkCondation",value:function(){this.$emit("check",{tokens:this.tokenAddress,accounts:this.accounts}),this.disabled=!0}},{key:"accounts",get:function(){return this.address.trim().split(",").map(function(t){return t.trim().toLowerCase()})}}]),e}(y["c"]);h["a"]([Object(y["b"])(Array)],k.prototype,"tokens",void 0),h["a"]([Object(y["b"])({default:!0})],k.prototype,"stoped",void 0),h["a"]([Object(y["d"])("stoped")],k.prototype,"onStopChange",null),k=h["a"]([y["a"]],k);var g=k,_=g,O=n("2877"),w=Object(O["a"])(_,v,m,!1,null,null,null),j=w.exports;function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var A="https://vechain.github.io/token-registry",P=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(A,"/").concat(e,".json"));case 2:if(n=t.sent,200===n.status){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,n.json();case 7:return s=t.sent,t.abrupt("return",s.map(function(t){return C({},t,{img:"".concat(A,"/assets/").concat(t.icon)})}));case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),S=n("8bb6");function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var I=function(t){function e(){var t;return Object(d["a"])(this,e),t=Object(l["a"])(this,Object(f["a"])(e).apply(this,arguments)),t.tokens=[],t.tokensObj={},t.address=[],t.start=null,t.stop=null,t.eventList=[],t.checkNum=12,t.isStoped=!0,t.blocks={},t.eventAbi=new S["abi"].Event({anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"}),t}return Object(p["a"])(e,t),Object(u["a"])(e,[{key:"getRowStyle",value:function(t){return"background: linear-gradient(to right, rgba(32, 156, 238, 0.2) ".concat(t/this.checkNum*100,"%, transparent ").concat(t/this.checkNum*100,"%);")}},{key:"inAccount",value:function(t){return this.address.indexOf(t)>-1}},{key:"getCondations",value:function(t){var e=this,n=t.tokens,s=t.accounts;this.address=t.accounts,this.tracer=new b["Tracer"]({filter:{transfer:!1},eventFilter:function(t){if(n.indexOf(t.address)>-1){var r=e.eventAbi.decode(t.data,t.topics);return!s.length||(s.indexOf(r._from)>-1||s.indexOf(r._to)>-1)}return!1}},connex),this.tracer.setCheckNum(this.checkNum),this.bindEvent(),this.tracer.start()}},{key:"bindEvent",value:function(){var t=this;this.tracer&&(this.tracer.events.on("caught",function(e){var n=e.blockId,s=e.events.map(function(e){return{address:e.address,txId:e.txId,blockId:n,decode:t.eventAbi.decode(e.data,e.topics)}});t.eventList=[].concat(Object(c["a"])(t.eventList),Object(c["a"])(s))}),this.tracer.events.on("start",function(e){t.isStoped=!1,t.start=e,t.stop=null}),this.tracer.events.on("stop",function(e){t.isStoped=!0,t.stop=e}),this.tracer.events.on("confirm",function(e){t.blocks={},e.forEach(function(e){(!e.isTrunk||e.confirm<t.tracer.CheckNum)&&(t.blocks[e.blockID]={isTrunk:e.isTrunk,confirm:e.confirm})});var n=Object.keys(t.blocks);t.eventList=t.eventList.filter(function(t){return n.indexOf(t.blockId)>-1})}))}},{key:"stopTracer",value:function(){this.tracer.stop(),this.tracer.events.removeAllListeners(["start","stop","caught","confirm"])}},{key:"beforeCreate",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e="0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a"===connex.thor.genesis.id?"main":"test",t.next=3,P(e);case 3:this.tokens=t.sent,this.tokens.forEach(function(t){n.tokensObj[t.address]=t});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"eventResult",get:function(){var t=this;return this.eventList.map(function(e){return D({},e,{},t.blocks[e.blockId],{name:t.tokensObj[e.address].name,icon:"https://vechain.github.io/token-registry/assets/".concat(t.tokensObj[e.address].icon)})})}}]),e}(y["c"]);I=h["a"]([Object(y["a"])({components:{Params:j}})],I);var E=I,N=E,L=(n("034f"),Object(O["a"])(N,r,o,!1,null,null,null)),R=L.exports,$=n("9483");Object($["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("6b54"),n("c5f6");var F=n("901e"),M=n.n(F),z=n("7880");y["c"].filter("shortAddress",function(t){return t.substring(0,8)+"..."+t.substring(t.length-6,t.length)}),y["c"].filter("toChecksumAddress",function(t){return Object(z["toChecksumAddress"])(t)}),y["c"].filter("balance",function(t,e){var n=new M.a("1e+"+(e||18)),s=new M.a(t);return Number(s.isGreaterThan(0)?s.div(n).toString():0).toLocaleString(void 0,{style:"decimal",maximumFractionDigits:2,minimumFractionDigits:2})}),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(R)}}).$mount("#app")}});
//# sourceMappingURL=app.bbb380f2.js.map